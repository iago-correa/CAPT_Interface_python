{% extends 'login/base.html' %}
{% load static %} 

{% block content %}

<div class="container mt-4">

    <div class="position-relative">
        <h1>Recordings evaluation</h1>
        <a class="btn btn-danger position-absolute top-0 end-0" href="{% url 'login:evaluation_logout'%}" role="button">Logout</a>
    </div>

    <div id="completion-status" class="alert alert-success" role="alert" style="visibility: hidden; display: none">
        <p class="mb-0"> この練習セッションは既に完了しています。</p>
    </div>


    <div class="mt-4 mb-5 d-grid">
        {% for recording, recording_signed_url in evaluation_set %}
        
            {% if forloop.first %}{% csrf_token %}{% endif %}

            <div class="audio-block card mb-3" data-audio-id="{{ recording.id }}">

                <div class="card-body">

                    <audio controls class="mb-3" id="recording_player_{{ recording.id }}">
                        {% if recording_signed_url %}
                            <source src="{{ recording_signed_url }}" type="audio/wav">
                        {% endif %}
                    </audio>

                    <form class="form-check" id="score-radio-form">
                        <div class="row">
                            <div class="col-6 text-start">Impossible to understand</div>
                            <div class="col-6 text-end">Completely comprehensible</div>
                        </div>
                        <div class="row">
                            {% for score in scores %}
                                <div class="form-check col">
                                    <input class="form-check-input" type="radio" name="score-radio" id="score-radio-{{ score }}" value="{{ score }}">
                                    <label class="form-check-label" for="score-radio-{{ score }}">
                                        {{ score }}
                                    </label>
                                </div>
                            {% endfor %}
                        </div>
                    </form>

                </div>

            </div>

        {% endfor %}

    </div>  

</div>

<script>



</script>

{% endblock %}